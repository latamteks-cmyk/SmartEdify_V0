flowchart LR
  subgraph Clients
    A[User Portal]
    B[Admin Portal]
    C[Mobile App]
  end
  subgraph Services
    S1[auth-service]
    S2[user-service]
    S3[tenant-service]
  end
  subgraph Infra
    DB[(Postgres)]
    R[(Redis)]
    MQ[(Broker)]
    OT[(OTel Collector)]
  end
  A-->S1
  B-->S1
  C-->S1
  A-->S2
  B-->S2
  B-->S3
  S1-->R
  S2-->DB
  S3-->DB
  S2--events-->MQ
  S3--events-->MQ
  S1-->OT
  S2-->OT
  S3-->OT
